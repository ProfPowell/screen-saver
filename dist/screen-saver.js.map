{"version":3,"file":"screen-saver.js","sources":["../src/screen-saver.js"],"sourcesContent":["/**\n * @fileoverview Screen Saver Web Component\n * A vanilla JavaScript web component that displays retro screen saver effects after idle timeout.\n */\n\n// ============================================================================\n// Effect Base Class\n// ============================================================================\n\n/**\n * Base class for screen saver effects.\n * @abstract\n */\nclass Effect {\n  /**\n   * @param {HTMLElement} container - The container element to render into\n   * @param {string} text - The text to display\n   * @param {number} speed - Animation speed multiplier\n   */\n  constructor(container, text, speed) {\n    this.container = container;\n    this.text = text;\n    this.speed = speed;\n    this.animationId = null;\n    this.reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  }\n\n  /** Start the effect animation */\n  start() {\n    throw new Error('start() must be implemented by subclass');\n  }\n\n  /** Stop the effect animation */\n  stop() {\n    if (this.animationId) {\n      cancelAnimationFrame(this.animationId);\n      this.animationId = null;\n    }\n  }\n\n  /** Clean up resources */\n  destroy() {\n    this.stop();\n    this.container.innerHTML = '';\n  }\n}\n\n// ============================================================================\n// Bounce3D Effect\n// ============================================================================\n\n/**\n * Classic bouncing 3D extruded text effect.\n * Features extruded shadow via layered text-shadow and subtle Y-axis rotation.\n */\nclass Bounce3DEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.x = 0;\n    this.y = 0;\n    this.vx = 2;\n    this.vy = 1.5;\n    this.rotation = 0;\n    this.rotationSpeed = 0.5;\n    this.lastTime = 0;\n    this.colors = [\n      '#ff0000', '#ff7f00', '#ffff00', '#00ff00',\n      '#0000ff', '#4b0082', '#9400d3', '#00ffff',\n      '#ff00ff', '#00ff7f'\n    ];\n    this.colorIndex = 0;\n    this.textElement = null;\n  }\n\n  start() {\n    // Create the text element\n    this.textElement = document.createElement('div');\n    this.textElement.className = 'bounce3d-text';\n    this.textElement.textContent = this.text;\n    this.container.appendChild(this.textElement);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .bounce3d-text {\n        position: absolute;\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #00ff00);\n        white-space: nowrap;\n        transform-style: preserve-3d;\n        perspective: 1000px;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    if (this.reducedMotion) {\n      // Static centered display for reduced motion\n      this.textElement.style.left = '50%';\n      this.textElement.style.top = '50%';\n      this.textElement.style.transform = 'translate(-50%, -50%)';\n      this.updateExtrusion();\n      return;\n    }\n\n    // Wait for next frame to ensure container is laid out\n    requestAnimationFrame(() => {\n      const rect = this.container.getBoundingClientRect();\n      // Initialize position with fallback for zero dimensions\n      const width = rect.width || window.innerWidth;\n      const height = rect.height || window.innerHeight;\n      this.x = Math.random() * Math.max(0, width - 300);\n      this.y = Math.random() * Math.max(0, height - 100);\n\n      this.lastTime = performance.now();\n      this.animate();\n    });\n  }\n\n  updateExtrusion() {\n    const color = this.colors[this.colorIndex];\n    const extrudeColor = this.getExtrudeColor(color);\n\n    // Create layered text-shadow for 3D extrusion effect\n    const shadows = [];\n    for (let i = 1; i <= 8; i++) {\n      shadows.push(`${i}px ${i}px 0 ${extrudeColor}`);\n    }\n    // Add a subtle glow\n    shadows.push(`0 0 20px ${color}40`);\n\n    this.textElement.style.textShadow = shadows.join(', ');\n    this.textElement.style.color = color;\n  }\n\n  getExtrudeColor(color) {\n    // Darken the color for extrusion\n    const hex = color.replace('#', '');\n    const r = Math.max(0, parseInt(hex.substr(0, 2), 16) - 100);\n    const g = Math.max(0, parseInt(hex.substr(2, 2), 16) - 100);\n    const b = Math.max(0, parseInt(hex.substr(4, 2), 16) - 100);\n    return `rgb(${r}, ${g}, ${b})`;\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastTime) / 16.67; // Normalize to ~60fps\n    this.lastTime = currentTime;\n\n    const rect = this.container.getBoundingClientRect();\n    const textRect = this.textElement.getBoundingClientRect();\n\n    // Use fallback dimensions if container not properly laid out\n    const containerWidth = rect.width || window.innerWidth;\n    const containerHeight = rect.height || window.innerHeight;\n    const textWidth = textRect.width || 200;\n    const textHeight = textRect.height || 80;\n\n    // Update position\n    this.x += this.vx * this.speed * deltaTime;\n    this.y += this.vy * this.speed * deltaTime;\n\n    // Update rotation\n    this.rotation += this.rotationSpeed * this.speed * deltaTime;\n\n    // Bounce off edges\n    let bounced = false;\n    if (this.x <= 0 || this.x + textWidth >= containerWidth) {\n      this.vx *= -1;\n      this.x = Math.max(0, Math.min(this.x, containerWidth - textWidth));\n      bounced = true;\n    }\n    if (this.y <= 0 || this.y + textHeight >= containerHeight) {\n      this.vy *= -1;\n      this.y = Math.max(0, Math.min(this.y, containerHeight - textHeight));\n      bounced = true;\n    }\n\n    // Change color on bounce\n    if (bounced) {\n      this.colorIndex = (this.colorIndex + 1) % this.colors.length;\n    }\n\n    // Apply transforms\n    this.textElement.style.left = `${this.x}px`;\n    this.textElement.style.top = `${this.y}px`;\n    this.textElement.style.transform = `rotateY(${Math.sin(this.rotation * 0.05) * 15}deg)`;\n\n    this.updateExtrusion();\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n}\n\n// ============================================================================\n// Matrix Effect\n// ============================================================================\n\n/**\n * Matrix-style falling character rain effect.\n * Canvas-based with Japanese katakana + ASCII characters.\n */\nclass MatrixEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.columns = [];\n    this.fontSize = 16;\n    this.lastTime = 0;\n    this.chars = 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  }\n\n  start() {\n    // Create canvas\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'matrix-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    // Create centered text overlay\n    const textOverlay = document.createElement('div');\n    textOverlay.className = 'matrix-text';\n    textOverlay.textContent = this.text;\n    this.container.appendChild(textOverlay);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .matrix-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .matrix-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: #00ff00;\n        text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00, 0 0 60px #00ff00;\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this.resize.bind(this));\n\n    if (this.reducedMotion) {\n      // Just show static text, no animation\n      this.ctx.fillStyle = 'rgba(0, 0, 0, 0.95)';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n\n    // Initialize columns\n    const columnCount = Math.ceil(this.canvas.width / this.fontSize);\n    this.columns = [];\n    for (let i = 0; i < columnCount; i++) {\n      this.columns[i] = Math.random() * this.canvas.height / this.fontSize;\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = currentTime - this.lastTime;\n\n    // Throttle to ~30fps for authentic retro feel\n    if (deltaTime < 33 / this.speed) {\n      this.animationId = requestAnimationFrame(() => this.animate());\n      return;\n    }\n    this.lastTime = currentTime;\n\n    // Semi-transparent black overlay for trail effect\n    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Draw characters\n    this.ctx.fillStyle = '#00ff00';\n    this.ctx.font = `${this.fontSize}px monospace`;\n\n    for (let i = 0; i < this.columns.length; i++) {\n      const char = this.chars[Math.floor(Math.random() * this.chars.length)];\n      const x = i * this.fontSize;\n      const y = this.columns[i] * this.fontSize;\n\n      // Brighter leading character\n      if (Math.random() > 0.9) {\n        this.ctx.fillStyle = '#ffffff';\n      } else {\n        this.ctx.fillStyle = '#00ff00';\n      }\n\n      this.ctx.fillText(char, x, y);\n\n      // Reset column randomly or when it goes off screen\n      if (y > this.canvas.height && Math.random() > 0.975) {\n        this.columns[i] = 0;\n      }\n      this.columns[i]++;\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this.resize.bind(this));\n    super.destroy();\n  }\n}\n\n// ============================================================================\n// ASCII Glitch Effect\n// ============================================================================\n\n/**\n * Glitchy ASCII text effect with random character swapping and flicker.\n */\nclass AsciiGlitchEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.textElement = null;\n    this.originalText = text;\n    this.glitchChars = '!@#$%^&*()_+-=[]{}|;:,.<>?/~`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    this.lastTime = 0;\n    this.glitchIntensity = 0;\n    this.flickerTimeout = null;\n  }\n\n  start() {\n    // Create container for the effect\n    const wrapper = document.createElement('div');\n    wrapper.className = 'glitch-wrapper';\n\n    this.textElement = document.createElement('div');\n    this.textElement.className = 'glitch-text';\n    this.textElement.textContent = this.text;\n    wrapper.appendChild(this.textElement);\n\n    // Create glitch layers\n    for (let i = 0; i < 2; i++) {\n      const layer = document.createElement('div');\n      layer.className = `glitch-layer glitch-layer-${i + 1}`;\n      layer.textContent = this.text;\n      wrapper.appendChild(layer);\n    }\n\n    this.container.appendChild(wrapper);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .glitch-wrapper {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n      .glitch-text, .glitch-layer {\n        font-family: var(--screen-saver-font-family, 'Courier New', monospace);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #00ff00);\n        white-space: nowrap;\n        user-select: none;\n      }\n      .glitch-layer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        opacity: 0.8;\n      }\n      .glitch-layer-1 {\n        color: #ff0000;\n        clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);\n      }\n      .glitch-layer-2 {\n        color: #0000ff;\n        clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);\n      }\n    `;\n    this.container.appendChild(style);\n\n    if (this.reducedMotion) {\n      // Static display for reduced motion\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = currentTime - this.lastTime;\n\n    // Update at ~20fps for glitchy feel\n    if (deltaTime < 50 / this.speed) {\n      this.animationId = requestAnimationFrame(() => this.animate());\n      return;\n    }\n    this.lastTime = currentTime;\n\n    // Random glitch intensity spikes\n    if (Math.random() > 0.95) {\n      this.glitchIntensity = Math.random() * 0.5 + 0.3;\n    } else {\n      this.glitchIntensity *= 0.95;\n    }\n\n    // Apply glitch to text\n    let glitchedText = '';\n    for (let i = 0; i < this.originalText.length; i++) {\n      if (Math.random() < this.glitchIntensity) {\n        glitchedText += this.glitchChars[Math.floor(Math.random() * this.glitchChars.length)];\n      } else {\n        glitchedText += this.originalText[i];\n      }\n    }\n\n    this.textElement.textContent = glitchedText;\n\n    // Update layers with offset\n    const layers = this.container.querySelectorAll('.glitch-layer');\n    layers.forEach((layer, index) => {\n      const offsetX = (Math.random() - 0.5) * this.glitchIntensity * 20;\n      const offsetY = (Math.random() - 0.5) * this.glitchIntensity * 5;\n      layer.style.transform = `translate(${offsetX}px, ${offsetY}px)`;\n      layer.textContent = glitchedText;\n    });\n\n    // Random flicker effect\n    if (Math.random() > 0.98) {\n      this.textElement.style.opacity = '0.5';\n      clearTimeout(this.flickerTimeout);\n      this.flickerTimeout = setTimeout(() => {\n        if (this.textElement) {\n          this.textElement.style.opacity = '1';\n        }\n      }, 50);\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    clearTimeout(this.flickerTimeout);\n    super.destroy();\n  }\n}\n\n// ============================================================================\n// Effect Registry\n// ============================================================================\n\nconst effectRegistry = new Map([\n  ['bounce3d', Bounce3DEffect],\n  ['matrix', MatrixEffect],\n  ['ascii-glitch', AsciiGlitchEffect],\n]);\n\n// ============================================================================\n// Screen Saver Component\n// ============================================================================\n\n/**\n * Screen Saver Web Component\n *\n * @element screen-saver\n * @slot - Text content to display in the screen saver\n *\n * @attr {number} timeout - Idle delay in seconds (default: 180)\n * @attr {string} effect - Effect name: bounce3d, matrix, ascii-glitch (default: bounce3d)\n * @attr {number} speed - Animation speed multiplier (default: 1)\n * @attr {string} background - Background color or image URL\n *\n * @fires screensaver-activate - When the screen saver activates\n * @fires screensaver-deactivate - When the screen saver dismisses, includes duration\n *\n * @example\n * <screen-saver timeout=\"180\" effect=\"bounce3d\">Whoa!</screen-saver>\n */\nclass ScreenSaver extends HTMLElement {\n  static get observedAttributes() {\n    return ['timeout', 'effect', 'speed', 'background'];\n  }\n\n  /**\n   * Register a custom effect.\n   * @param {string} name - Effect name\n   * @param {typeof Effect} effectClass - Effect class extending Effect\n   */\n  static registerEffect(name, effectClass) {\n    effectRegistry.set(name, effectClass);\n  }\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n\n    this._isActive = false;\n    this._idleTimer = null;\n    this._activatedAt = null;\n    this._effect = null;\n    this._boundResetTimer = this._resetIdleTimer.bind(this);\n    this._boundDismiss = this._handleDismiss.bind(this);\n  }\n\n  connectedCallback() {\n    this._render();\n    this._startIdleDetection();\n  }\n\n  disconnectedCallback() {\n    this._stopIdleDetection();\n    this.deactivate();\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue === newValue) return;\n\n    if (name === 'timeout') {\n      this._resetIdleTimer();\n    } else if (name === 'effect' && this._isActive) {\n      // Switch effect while active\n      this._destroyEffect();\n      this._createEffect();\n    } else if (name === 'background' && this._isActive) {\n      this._updateBackground();\n    }\n  }\n\n  /** @returns {boolean} Whether the screen saver is currently active */\n  get isActive() {\n    return this._isActive;\n  }\n\n  /** @returns {number} Timeout in seconds */\n  get timeout() {\n    return parseInt(this.getAttribute('timeout'), 10) || 180;\n  }\n\n  set timeout(value) {\n    this.setAttribute('timeout', String(value));\n  }\n\n  /** @returns {string} Current effect name */\n  get effect() {\n    return this.getAttribute('effect') || 'bounce3d';\n  }\n\n  set effect(value) {\n    this.setAttribute('effect', value);\n  }\n\n  /** @returns {number} Animation speed multiplier */\n  get speed() {\n    return parseFloat(this.getAttribute('speed')) || 1;\n  }\n\n  set speed(value) {\n    this.setAttribute('speed', String(value));\n  }\n\n  /** @returns {string|null} Background setting */\n  get background() {\n    return this.getAttribute('background');\n  }\n\n  set background(value) {\n    if (value) {\n      this.setAttribute('background', value);\n    } else {\n      this.removeAttribute('background');\n    }\n  }\n\n  /** Programmatically activate the screen saver */\n  activate() {\n    if (this._isActive) return;\n\n    this._isActive = true;\n    this._activatedAt = Date.now();\n    this._stopIdleDetection();\n\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    overlay.classList.add('active');\n    overlay.setAttribute('aria-hidden', 'false');\n\n    this._updateBackground();\n    this._createEffect();\n    this._attachDismissListeners();\n\n    this.dispatchEvent(new CustomEvent('screensaver-activate', {\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  /** Programmatically deactivate the screen saver */\n  deactivate() {\n    if (!this._isActive) return;\n\n    const duration = this._activatedAt ? Date.now() - this._activatedAt : 0;\n\n    this._isActive = false;\n    this._activatedAt = null;\n\n    this._destroyEffect();\n    this._detachDismissListeners();\n\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    overlay.classList.remove('active');\n    overlay.setAttribute('aria-hidden', 'true');\n\n    this._startIdleDetection();\n\n    this.dispatchEvent(new CustomEvent('screensaver-deactivate', {\n      bubbles: true,\n      composed: true,\n      detail: { duration }\n    }));\n  }\n\n  _render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: contents;\n        }\n\n        .overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: var(--screen-saver-bg, rgba(0, 0, 0, 0.95));\n          z-index: var(--screen-saver-z-index, 999999);\n          display: none;\n          overflow: hidden;\n        }\n\n        .overlay.active {\n          display: block;\n        }\n\n        .effect-container {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n\n        .slot-container {\n          display: none;\n        }\n      </style>\n      <div class=\"slot-container\"><slot></slot></div>\n      <div class=\"overlay\" role=\"dialog\" aria-label=\"Screen saver\" aria-hidden=\"true\">\n        <div class=\"effect-container\"></div>\n      </div>\n    `;\n  }\n\n  _getSlotText() {\n    const slot = this.shadowRoot.querySelector('slot');\n    const nodes = slot.assignedNodes({ flatten: true });\n    return nodes.map(node => node.textContent).join('').trim() || 'Screen Saver';\n  }\n\n  _createEffect() {\n    const container = this.shadowRoot.querySelector('.effect-container');\n    const EffectClass = effectRegistry.get(this.effect) || Bounce3DEffect;\n    const text = this._getSlotText();\n\n    this._effect = new EffectClass(container, text, this.speed);\n    this._effect.start();\n  }\n\n  _destroyEffect() {\n    if (this._effect) {\n      this._effect.destroy();\n      this._effect = null;\n    }\n  }\n\n  _updateBackground() {\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    const bg = this.background;\n\n    if (bg) {\n      if (bg.startsWith('http') || bg.startsWith('/') || bg.startsWith('data:')) {\n        overlay.style.backgroundImage = `url(${bg})`;\n        overlay.style.backgroundSize = 'cover';\n        overlay.style.backgroundPosition = 'center';\n      } else {\n        overlay.style.background = bg;\n      }\n    }\n  }\n\n  _startIdleDetection() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart', 'scroll', 'wheel'];\n    events.forEach(event => {\n      document.addEventListener(event, this._boundResetTimer, { passive: true });\n    });\n    this._resetIdleTimer();\n  }\n\n  _stopIdleDetection() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart', 'scroll', 'wheel'];\n    events.forEach(event => {\n      document.removeEventListener(event, this._boundResetTimer);\n    });\n    clearTimeout(this._idleTimer);\n  }\n\n  _resetIdleTimer() {\n    clearTimeout(this._idleTimer);\n    this._idleTimer = setTimeout(() => {\n      this.activate();\n    }, this.timeout * 1000);\n  }\n\n  _attachDismissListeners() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart'];\n    events.forEach(event => {\n      document.addEventListener(event, this._boundDismiss, { once: true, capture: true });\n    });\n  }\n\n  _detachDismissListeners() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart'];\n    events.forEach(event => {\n      document.removeEventListener(event, this._boundDismiss, { capture: true });\n    });\n  }\n\n  _handleDismiss(event) {\n    // Small delay to ensure the event wasn't the activation event\n    requestAnimationFrame(() => {\n      if (this._isActive) {\n        this.deactivate();\n      }\n    });\n  }\n}\n\n// Register the custom element\ncustomElements.define('screen-saver', ScreenSaver);\n\n// Export for ES modules\nexport { ScreenSaver, Effect, Bounce3DEffect, MatrixEffect, AsciiGlitchEffect };\nexport default ScreenSaver;\n"],"names":["Effect","container","text","speed","Bounce3DEffect","style","rect","width","height","color","extrudeColor","shadows","hex","r","g","b","currentTime","deltaTime","textRect","containerWidth","containerHeight","textWidth","textHeight","bounced","MatrixEffect","textOverlay","columnCount","i","char","x","y","AsciiGlitchEffect","wrapper","layer","glitchedText","index","offsetX","offsetY","effectRegistry","ScreenSaver","name","effectClass","oldValue","newValue","value","overlay","duration","node","EffectClass","bg","event"],"mappings":"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"}