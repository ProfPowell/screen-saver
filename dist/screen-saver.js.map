{"version":3,"file":"screen-saver.js","sources":["../src/utils/reduced-motion.js","../src/effect.js","../src/utils/timing.js","../src/effects/bounce3d.js","../src/effects/matrix.js","../src/effects/ascii-glitch.js","../src/effects/starfield.js","../src/effects/plasma.js","../src/effects/fireworks.js","../src/effects/bubbles.js","../src/effects/pipes.js","../src/effects/mystify.js","../src/effects/tunnel.js","../src/effects/slideshow.js","../src/effects/snow.js","../src/effects/index.js","../src/registry.js","../src/screen-saver.js"],"sourcesContent":["/**\n * @fileoverview Reduced motion detection utility.\n */\n\n/**\n * Check if the user prefers reduced motion.\n * @returns {boolean} True if reduced motion is preferred\n */\nexport function prefersReducedMotion() {\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n","/**\n * @fileoverview Base Effect class for screen saver effects.\n */\n\nimport { prefersReducedMotion } from './utils/reduced-motion.js';\n\n/**\n * Base class for screen saver effects.\n * @abstract\n */\nclass Effect {\n  /**\n   * Whether this effect requires text to be displayed.\n   * If true and no text is provided, defaults to the site's domain name.\n   * If false, the effect runs without text overlay.\n   * @type {boolean}\n   */\n  static requiresText = true;\n\n  /**\n   * @param {HTMLElement} container - The container element to render into\n   * @param {string|null} text - The text to display (null if not required)\n   * @param {number} speed - Animation speed multiplier\n   */\n  constructor(container, text, speed) {\n    this.container = container;\n    this.text = text;\n    this.speed = speed;\n    this.animationId = null;\n    this.reducedMotion = prefersReducedMotion();\n  }\n\n  /** Start the effect animation */\n  start() {\n    throw new Error('start() must be implemented by subclass');\n  }\n\n  /** Stop the effect animation */\n  stop() {\n    if (this.animationId) {\n      cancelAnimationFrame(this.animationId);\n      this.animationId = null;\n    }\n  }\n\n  /** Clean up resources */\n  destroy() {\n    this.stop();\n    this.container.innerHTML = '';\n  }\n\n  /**\n   * Update the text displayed by the effect.\n   * @param {string} text\n   */\n  updateText(text) {\n    this.text = text;\n  }\n}\n\nexport { Effect };\nexport default Effect;\n","/**\n * @fileoverview Timing utilities for animation frame management.\n */\n\n/**\n * Normalize delta time to 60fps baseline.\n * @param {number} currentTime - Current timestamp from performance.now()\n * @param {number} lastTime - Previous frame timestamp\n * @returns {number} Normalized delta time (1.0 = 60fps frame)\n */\nexport function normalizeDeltaTime(currentTime, lastTime) {\n  return (currentTime - lastTime) / 16.67; // 16.67ms = 60fps\n}\n\n/**\n * Check if frame should be skipped for throttling.\n * @param {number} deltaTime - Time since last frame in ms\n * @param {number} targetFPS - Target frames per second\n * @returns {boolean} True if frame should be skipped\n */\nexport function shouldSkipFrame(deltaTime, targetFPS) {\n  const targetFrameTime = 1000 / targetFPS;\n  return deltaTime < targetFrameTime;\n}\n","/**\n * @fileoverview Bounce3D effect - Classic bouncing 3D extruded text.\n */\n\nimport { Effect } from '../effect.js';\nimport { normalizeDeltaTime } from '../utils/timing.js';\n\n/** Color palette for bouncing text */\nconst COLORS = [\n  '#ff0000', '#ff7f00', '#ffff00', '#00ff00',\n  '#0000ff', '#4b0082', '#9400d3', '#00ffff',\n  '#ff00ff', '#00ff7f'\n];\n\n/**\n * Classic bouncing 3D extruded text effect.\n * Features extruded shadow via layered text-shadow and subtle Y-axis rotation.\n */\nclass Bounce3DEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.x = 0;\n    this.y = 0;\n    this.vx = 2;\n    this.vy = 1.5;\n    this.rotation = 0;\n    this.rotationSpeed = 0.5;\n    this.lastTime = 0;\n    this.colors = COLORS;\n    this.colorIndex = 0;\n    this.textElement = null;\n  }\n\n  start() {\n    // Create the text element\n    this.textElement = document.createElement('div');\n    this.textElement.className = 'bounce3d-text';\n    this.textElement.textContent = this.text;\n    this.container.appendChild(this.textElement);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .bounce3d-text {\n        position: absolute;\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #00ff00);\n        white-space: nowrap;\n        transform-style: preserve-3d;\n        perspective: 1000px;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    if (this.reducedMotion) {\n      // Static centered display for reduced motion\n      this.textElement.style.left = '50%';\n      this.textElement.style.top = '50%';\n      this.textElement.style.transform = 'translate(-50%, -50%)';\n      this.updateExtrusion();\n      return;\n    }\n\n    // Wait for next frame to ensure container is laid out\n    requestAnimationFrame(() => {\n      const rect = this.container.getBoundingClientRect();\n      // Initialize position with fallback for zero dimensions\n      const width = rect.width || window.innerWidth;\n      const height = rect.height || window.innerHeight;\n      this.x = Math.random() * Math.max(0, width - 300);\n      this.y = Math.random() * Math.max(0, height - 100);\n\n      this.lastTime = performance.now();\n      this.animate();\n    });\n  }\n\n  updateExtrusion() {\n    const color = this.colors[this.colorIndex];\n    const extrudeColor = this.getExtrudeColor(color);\n\n    // Create layered text-shadow for 3D extrusion effect\n    const shadows = [];\n    for (let i = 1; i <= 8; i++) {\n      shadows.push(`${i}px ${i}px 0 ${extrudeColor}`);\n    }\n    // Add a subtle glow\n    shadows.push(`0 0 20px ${color}40`);\n\n    this.textElement.style.textShadow = shadows.join(', ');\n    this.textElement.style.color = color;\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textElement) {\n      this.textElement.textContent = text;\n    }\n  }\n\n  getExtrudeColor(color) {\n    // Darken the color for extrusion\n    const hex = color.replace('#', '');\n    const r = Math.max(0, parseInt(hex.substr(0, 2), 16) - 100);\n    const g = Math.max(0, parseInt(hex.substr(2, 2), 16) - 100);\n    const b = Math.max(0, parseInt(hex.substr(4, 2), 16) - 100);\n    return `rgb(${r}, ${g}, ${b})`;\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = normalizeDeltaTime(currentTime, this.lastTime);\n    this.lastTime = currentTime;\n\n    const rect = this.container.getBoundingClientRect();\n    const textRect = this.textElement.getBoundingClientRect();\n\n    // Use fallback dimensions if container not properly laid out\n    const containerWidth = rect.width || window.innerWidth;\n    const containerHeight = rect.height || window.innerHeight;\n    const textWidth = textRect.width || 200;\n    const textHeight = textRect.height || 80;\n\n    // Update position\n    this.x += this.vx * this.speed * deltaTime;\n    this.y += this.vy * this.speed * deltaTime;\n\n    // Update rotation\n    this.rotation += this.rotationSpeed * this.speed * deltaTime;\n\n    // Bounce off edges\n    let bounced = false;\n    if (this.x <= 0 || this.x + textWidth >= containerWidth) {\n      this.vx *= -1;\n      this.x = Math.max(0, Math.min(this.x, containerWidth - textWidth));\n      bounced = true;\n    }\n    if (this.y <= 0 || this.y + textHeight >= containerHeight) {\n      this.vy *= -1;\n      this.y = Math.max(0, Math.min(this.y, containerHeight - textHeight));\n      bounced = true;\n    }\n\n    // Change color on bounce\n    if (bounced) {\n      this.colorIndex = (this.colorIndex + 1) % this.colors.length;\n    }\n\n    // Apply transforms\n    this.textElement.style.left = `${this.x}px`;\n    this.textElement.style.top = `${this.y}px`;\n    this.textElement.style.transform = `rotateY(${Math.sin(this.rotation * 0.05) * 15}deg)`;\n\n    this.updateExtrusion();\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n}\n\nexport { Bounce3DEffect };\nexport default Bounce3DEffect;\n","/**\n * @fileoverview Matrix effect - Falling character rain.\n */\n\nimport { Effect } from '../effect.js';\nimport { shouldSkipFrame } from '../utils/timing.js';\n\n/** Character set for matrix rain (katakana + ASCII) */\nconst MATRIX_CHARS = 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\n/**\n * Matrix-style falling character rain effect.\n * Canvas-based with Japanese katakana + ASCII characters.\n */\nclass MatrixEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.columns = [];\n    this.fontSize = 16;\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n    this.chars = MATRIX_CHARS;\n  }\n\n  start() {\n    // Create canvas\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'matrix-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    // Create centered text overlay\n    this.textOverlay = document.createElement('div');\n    this.textOverlay.className = 'matrix-text';\n    this.textOverlay.textContent = this.text;\n    this.container.appendChild(this.textOverlay);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .matrix-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .matrix-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: #00ff00;\n        text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00, 0 0 60px #00ff00;\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    if (this.reducedMotion) {\n      // Just show static text, no animation\n      this.ctx.fillStyle = 'rgba(0, 0, 0, 0.95)';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n\n    // Initialize columns\n    const columnCount = Math.ceil(this.canvas.width / this.fontSize);\n    this.columns = [];\n    for (let i = 0; i < columnCount; i++) {\n      this.columns[i] = Math.random() * this.canvas.height / this.fontSize;\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = currentTime - this.lastTime;\n\n    // Throttle to ~30fps for authentic retro feel\n    if (shouldSkipFrame(deltaTime, 30 * this.speed)) {\n      this.animationId = requestAnimationFrame(() => this.animate());\n      return;\n    }\n    this.lastTime = currentTime;\n\n    // Semi-transparent black overlay for trail effect\n    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Draw characters\n    this.ctx.fillStyle = '#00ff00';\n    this.ctx.font = `${this.fontSize}px monospace`;\n\n    for (let i = 0; i < this.columns.length; i++) {\n      const char = this.chars[Math.floor(Math.random() * this.chars.length)];\n      const x = i * this.fontSize;\n      const y = this.columns[i] * this.fontSize;\n\n      // Brighter leading character\n      if (Math.random() > 0.9) {\n        this.ctx.fillStyle = '#ffffff';\n      } else {\n        this.ctx.fillStyle = '#00ff00';\n      }\n\n      this.ctx.fillText(char, x, y);\n\n      // Reset column randomly or when it goes off screen\n      if (y > this.canvas.height && Math.random() > 0.975) {\n        this.columns[i] = 0;\n      }\n      this.columns[i]++;\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { MatrixEffect };\nexport default MatrixEffect;\n","/**\n * @fileoverview ASCII Glitch effect - Glitchy text with random character swapping.\n */\n\nimport { Effect } from '../effect.js';\nimport { shouldSkipFrame } from '../utils/timing.js';\n\n/** Character set for glitch effects */\nconst GLITCH_CHARS = '!@#$%^&*()_+-=[]{}|;:,.<>?/~`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n\n/**\n * Glitchy ASCII text effect with random character swapping and flicker.\n */\nclass AsciiGlitchEffect extends Effect {\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.textElement = null;\n    this.originalText = text;\n    this.glitchChars = GLITCH_CHARS;\n    this.lastTime = 0;\n    this.glitchIntensity = 0;\n    this.flickerTimeout = null;\n  }\n\n  start() {\n    // Create container for the effect\n    const wrapper = document.createElement('div');\n    wrapper.className = 'glitch-wrapper';\n\n    this.textElement = document.createElement('div');\n    this.textElement.className = 'glitch-text';\n    this.textElement.textContent = this.text;\n    wrapper.appendChild(this.textElement);\n\n    // Create glitch layers\n    for (let i = 0; i < 2; i++) {\n      const layer = document.createElement('div');\n      layer.className = `glitch-layer glitch-layer-${i + 1}`;\n      layer.textContent = this.text;\n      wrapper.appendChild(layer);\n    }\n\n    this.container.appendChild(wrapper);\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .glitch-wrapper {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n      .glitch-text, .glitch-layer {\n        font-family: var(--screen-saver-font-family, 'Courier New', monospace);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #00ff00);\n        white-space: nowrap;\n        user-select: none;\n      }\n      .glitch-layer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        opacity: 0.8;\n      }\n      .glitch-layer-1 {\n        color: #ff0000;\n        clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);\n      }\n      .glitch-layer-2 {\n        color: #0000ff;\n        clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);\n      }\n    `;\n    this.container.appendChild(style);\n\n    if (this.reducedMotion) {\n      // Static display for reduced motion\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = currentTime - this.lastTime;\n\n    // Update at ~20fps for glitchy feel\n    if (shouldSkipFrame(deltaTime, 20 * this.speed)) {\n      this.animationId = requestAnimationFrame(() => this.animate());\n      return;\n    }\n    this.lastTime = currentTime;\n\n    // Random glitch intensity spikes\n    if (Math.random() > 0.95) {\n      this.glitchIntensity = Math.random() * 0.5 + 0.3;\n    } else {\n      this.glitchIntensity *= 0.95;\n    }\n\n    // Apply glitch to text\n    let glitchedText = '';\n    for (let i = 0; i < this.originalText.length; i++) {\n      if (Math.random() < this.glitchIntensity) {\n        glitchedText += this.glitchChars[Math.floor(Math.random() * this.glitchChars.length)];\n      } else {\n        glitchedText += this.originalText[i];\n      }\n    }\n\n    this.textElement.textContent = glitchedText;\n\n    // Update layers with offset\n    const layers = this.container.querySelectorAll('.glitch-layer');\n    layers.forEach((layer, index) => {\n      const offsetX = (Math.random() - 0.5) * this.glitchIntensity * 20;\n      const offsetY = (Math.random() - 0.5) * this.glitchIntensity * 5;\n      layer.style.transform = `translate(${offsetX}px, ${offsetY}px)`;\n      layer.textContent = glitchedText;\n    });\n\n    // Random flicker effect\n    if (Math.random() > 0.98) {\n      this.textElement.style.opacity = '0.5';\n      clearTimeout(this.flickerTimeout);\n      this.flickerTimeout = setTimeout(() => {\n        if (this.textElement) {\n          this.textElement.style.opacity = '1';\n        }\n      }, 50);\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    clearTimeout(this.flickerTimeout);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    this.originalText = text;\n    if (this.textElement) {\n      this.textElement.textContent = text;\n    }\n    const layers = this.container.querySelectorAll('.glitch-layer');\n    layers.forEach(layer => {\n      layer.textContent = text;\n    });\n  }\n}\n\nexport { AsciiGlitchEffect };\nexport default AsciiGlitchEffect;\n","/**\n * @fileoverview Starfield effect - Classic flying through space stars.\n */\n\nimport { Effect } from '../effect.js';\n\n/** Number of stars in the field */\nconst STAR_COUNT = 200;\n\n/**\n * Classic starfield/warp speed effect.\n * Canvas-based with 3D projected stars flying toward the viewer.\n */\nclass StarfieldEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.stars = [];\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n    this.centerX = 0;\n    this.centerY = 0;\n  }\n\n  start() {\n    // Create canvas\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'starfield-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    // Create centered text overlay (only if text is provided)\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'starfield-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .starfield-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .starfield-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 40px rgba(100, 150, 255, 0.6);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    // Initialize stars\n    this.initStars();\n\n    if (this.reducedMotion) {\n      // Draw static starfield\n      this.drawStars();\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  initStars() {\n    this.stars = [];\n    for (let i = 0; i < STAR_COUNT; i++) {\n      this.stars.push(this.createStar());\n    }\n  }\n\n  createStar() {\n    return {\n      x: (Math.random() - 0.5) * this.canvas.width * 2,\n      y: (Math.random() - 0.5) * this.canvas.height * 2,\n      z: Math.random() * 1000 + 1,\n      prevZ: 1000\n    };\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n    this.centerX = this.canvas.width / 2;\n    this.centerY = this.canvas.height / 2;\n  }\n\n  drawStars() {\n    // Clear with black\n    this.ctx.fillStyle = '#000000';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (const star of this.stars) {\n      // Project 3D to 2D\n      const scale = 500 / star.z;\n      const x = this.centerX + star.x * scale;\n      const y = this.centerY + star.y * scale;\n\n      // Skip stars outside viewport\n      if (x < 0 || x > this.canvas.width || y < 0 || y > this.canvas.height) {\n        continue;\n      }\n\n      // Size and brightness based on z-depth\n      const size = Math.max(0.5, (1000 - star.z) / 500 * 3);\n      const brightness = Math.min(255, Math.floor((1000 - star.z) / 1000 * 255));\n\n      this.ctx.beginPath();\n      this.ctx.arc(x, y, size, 0, Math.PI * 2);\n      this.ctx.fillStyle = `rgb(${brightness}, ${brightness}, ${Math.min(255, brightness + 50)})`;\n      this.ctx.fill();\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastTime) / 16.67;\n    this.lastTime = currentTime;\n\n    // Clear with slight trail for motion blur\n    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    const starSpeed = 10 * this.speed * deltaTime;\n\n    for (let i = 0; i < this.stars.length; i++) {\n      const star = this.stars[i];\n\n      // Store previous position for streak\n      star.prevZ = star.z;\n\n      // Move star toward viewer\n      star.z -= starSpeed;\n\n      // Reset star if it passes the viewer\n      if (star.z <= 1) {\n        this.stars[i] = this.createStar();\n        this.stars[i].z = 1000;\n        continue;\n      }\n\n      // Project 3D to 2D\n      const scale = 500 / star.z;\n      const x = this.centerX + star.x * scale;\n      const y = this.centerY + star.y * scale;\n\n      // Previous position for streak\n      const prevScale = 500 / star.prevZ;\n      const prevX = this.centerX + star.x * prevScale;\n      const prevY = this.centerY + star.y * prevScale;\n\n      // Skip stars outside viewport\n      if (x < 0 || x > this.canvas.width || y < 0 || y > this.canvas.height) {\n        continue;\n      }\n\n      // Size and brightness based on z-depth\n      const brightness = Math.min(255, Math.floor((1000 - star.z) / 1000 * 255));\n      const size = Math.max(0.5, (1000 - star.z) / 500 * 2);\n\n      // Draw streak\n      this.ctx.beginPath();\n      this.ctx.moveTo(prevX, prevY);\n      this.ctx.lineTo(x, y);\n      this.ctx.strokeStyle = `rgba(${brightness}, ${brightness}, ${Math.min(255, brightness + 50)}, 0.8)`;\n      this.ctx.lineWidth = size;\n      this.ctx.stroke();\n\n      // Draw star point\n      this.ctx.beginPath();\n      this.ctx.arc(x, y, size * 1.5, 0, Math.PI * 2);\n      this.ctx.fillStyle = `rgb(${brightness}, ${brightness}, ${Math.min(255, brightness + 50)})`;\n      this.ctx.fill();\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { StarfieldEffect };\nexport default StarfieldEffect;\n","/**\n * @fileoverview Plasma effect - Classic colorful plasma waves.\n */\n\nimport { Effect } from '../effect.js';\n\n/**\n * Classic plasma/lava lamp style colorful effect.\n * Canvas-based with sine wave color patterns.\n */\nclass PlasmaEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.imageData = null;\n    this.time = 0;\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n    this.scale = 4; // Render at lower resolution for performance\n  }\n\n  start() {\n    // Create canvas\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'plasma-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    // Create centered text overlay (only if text is provided)\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'plasma-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .plasma-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        image-rendering: pixelated;\n      }\n      .plasma-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 10px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.6), 2px 2px 4px rgba(0, 0, 0, 0.9);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    if (this.reducedMotion) {\n      // Draw static plasma frame\n      this.drawPlasma();\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    // Render at lower resolution, CSS scales it up\n    this.canvas.width = Math.floor(rect.width / this.scale);\n    this.canvas.height = Math.floor(rect.height / this.scale);\n    this.imageData = this.ctx.createImageData(this.canvas.width, this.canvas.height);\n  }\n\n  drawPlasma() {\n    const width = this.canvas.width;\n    const height = this.canvas.height;\n    const data = this.imageData.data;\n    const t = this.time;\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        // Classic plasma formula using multiple sine waves\n        const v1 = Math.sin(x * 0.05 + t);\n        const v2 = Math.sin((y * 0.05 + t) * 0.5);\n        const v3 = Math.sin((x * 0.05 + y * 0.05 + t) * 0.5);\n        const v4 = Math.sin(Math.sqrt((x - width / 2) ** 2 + (y - height / 2) ** 2) * 0.05 + t);\n\n        const v = (v1 + v2 + v3 + v4) / 4;\n\n        // Convert to RGB using different phase shifts for each channel\n        const r = Math.floor(Math.sin(v * Math.PI * 2) * 127 + 128);\n        const g = Math.floor(Math.sin(v * Math.PI * 2 + 2.094) * 127 + 128); // +2π/3\n        const b = Math.floor(Math.sin(v * Math.PI * 2 + 4.188) * 127 + 128); // +4π/3\n\n        const idx = (y * width + x) * 4;\n        data[idx] = r;\n        data[idx + 1] = g;\n        data[idx + 2] = b;\n        data[idx + 3] = 255;\n      }\n    }\n\n    this.ctx.putImageData(this.imageData, 0, 0);\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastTime) / 16.67;\n    this.lastTime = currentTime;\n\n    // Update time for animation\n    this.time += 0.03 * this.speed * deltaTime;\n\n    this.drawPlasma();\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { PlasmaEffect };\nexport default PlasmaEffect;\n","/**\n * @fileoverview Fireworks effect - Colorful particle explosions.\n */\n\nimport { Effect } from '../effect.js';\nimport { normalizeDeltaTime } from '../utils/timing.js';\n\n/** Firework colors */\nconst COLORS = [\n  '#ff0000', '#ff7f00', '#ffff00', '#00ff00',\n  '#00ffff', '#0000ff', '#ff00ff', '#ffffff',\n  '#ff69b4', '#ffd700'\n];\n\n/**\n * Fireworks effect with particle explosions.\n * Canvas-based with rockets and colorful bursts.\n */\nclass FireworksEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.particles = [];\n    this.rockets = [];\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n    this.launchTimer = 0;\n  }\n\n  start() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'fireworks-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'fireworks-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    const style = document.createElement('style');\n    style.textContent = `\n      .fireworks-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .fireworks-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 20px rgba(255, 200, 100, 0.8), 0 0 40px rgba(255, 100, 50, 0.6);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    if (this.reducedMotion) {\n      this.ctx.fillStyle = '#000000';\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n  }\n\n  launchRocket() {\n    const x = Math.random() * this.canvas.width;\n    this.rockets.push({\n      x,\n      y: this.canvas.height,\n      vx: (Math.random() - 0.5) * 2,\n      vy: -(Math.random() * 4 + 8),\n      color: COLORS[Math.floor(Math.random() * COLORS.length)],\n      targetY: Math.random() * this.canvas.height * 0.5 + 50\n    });\n  }\n\n  explode(rocket) {\n    const particleCount = 80 + Math.floor(Math.random() * 40);\n    for (let i = 0; i < particleCount; i++) {\n      const angle = (Math.PI * 2 * i) / particleCount + Math.random() * 0.2;\n      const velocity = Math.random() * 4 + 2;\n      this.particles.push({\n        x: rocket.x,\n        y: rocket.y,\n        vx: Math.cos(angle) * velocity,\n        vy: Math.sin(angle) * velocity,\n        color: rocket.color,\n        life: 1,\n        decay: Math.random() * 0.02 + 0.015\n      });\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = normalizeDeltaTime(currentTime, this.lastTime);\n    this.lastTime = currentTime;\n\n    // Fade effect\n    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Launch new rockets\n    this.launchTimer += deltaTime * this.speed;\n    if (this.launchTimer > 30) {\n      this.launchRocket();\n      this.launchTimer = 0;\n    }\n\n    // Update and draw rockets\n    for (let i = this.rockets.length - 1; i >= 0; i--) {\n      const r = this.rockets[i];\n      r.x += r.vx * deltaTime * this.speed;\n      r.y += r.vy * deltaTime * this.speed;\n      r.vy += 0.1 * deltaTime * this.speed; // gravity\n\n      // Draw rocket trail\n      this.ctx.beginPath();\n      this.ctx.arc(r.x, r.y, 2, 0, Math.PI * 2);\n      this.ctx.fillStyle = r.color;\n      this.ctx.fill();\n\n      // Explode at target height or when slowing\n      if (r.y <= r.targetY || r.vy > -2) {\n        this.explode(r);\n        this.rockets.splice(i, 1);\n      }\n    }\n\n    // Update and draw particles\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      const p = this.particles[i];\n      p.x += p.vx * deltaTime * this.speed;\n      p.y += p.vy * deltaTime * this.speed;\n      p.vy += 0.05 * deltaTime * this.speed; // gravity\n      p.vx *= 0.99;\n      p.vy *= 0.99;\n      p.life -= p.decay * deltaTime * this.speed;\n\n      if (p.life <= 0) {\n        this.particles.splice(i, 1);\n        continue;\n      }\n\n      this.ctx.beginPath();\n      this.ctx.arc(p.x, p.y, 2 * p.life, 0, Math.PI * 2);\n      this.ctx.fillStyle = p.color + Math.floor(p.life * 255).toString(16).padStart(2, '0');\n      this.ctx.fill();\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { FireworksEffect };\nexport default FireworksEffect;\n","/**\n * @fileoverview Bubbles effect - Floating translucent bubbles.\n */\n\nimport { Effect } from '../effect.js';\nimport { normalizeDeltaTime } from '../utils/timing.js';\n\n/** Number of bubbles */\nconst BUBBLE_COUNT = 30;\n\n/** Bubble colors with transparency */\nconst COLORS = [\n  'rgba(255, 100, 100, 0.3)',\n  'rgba(100, 255, 100, 0.3)',\n  'rgba(100, 100, 255, 0.3)',\n  'rgba(255, 255, 100, 0.3)',\n  'rgba(255, 100, 255, 0.3)',\n  'rgba(100, 255, 255, 0.3)',\n];\n\n/**\n * Floating bubbles effect.\n * Canvas-based with translucent gradient bubbles.\n */\nclass BubblesEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.bubbles = [];\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n  }\n\n  start() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'bubbles-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'bubbles-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    const style = document.createElement('style');\n    style.textContent = `\n      .bubbles-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .bubbles-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 20px rgba(100, 200, 255, 0.8), 0 0 40px rgba(100, 150, 255, 0.5);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    this.initBubbles();\n\n    if (this.reducedMotion) {\n      this.drawBubbles();\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n  }\n\n  initBubbles() {\n    this.bubbles = [];\n    for (let i = 0; i < BUBBLE_COUNT; i++) {\n      this.bubbles.push(this.createBubble());\n    }\n  }\n\n  createBubble(fromBottom = false) {\n    const radius = Math.random() * 40 + 20;\n    return {\n      x: Math.random() * this.canvas.width,\n      y: fromBottom ? this.canvas.height + radius : Math.random() * this.canvas.height,\n      radius,\n      vx: (Math.random() - 0.5) * 0.5,\n      vy: -(Math.random() * 1 + 0.5),\n      color: COLORS[Math.floor(Math.random() * COLORS.length)],\n      wobbleOffset: Math.random() * Math.PI * 2,\n      wobbleSpeed: Math.random() * 0.02 + 0.01\n    };\n  }\n\n  drawBubble(bubble) {\n    const { x, y, radius, color } = bubble;\n\n    // Main bubble gradient\n    const gradient = this.ctx.createRadialGradient(\n      x - radius * 0.3, y - radius * 0.3, 0,\n      x, y, radius\n    );\n    gradient.addColorStop(0, 'rgba(255, 255, 255, 0.4)');\n    gradient.addColorStop(0.5, color);\n    gradient.addColorStop(1, 'rgba(0, 0, 0, 0.1)');\n\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, radius, 0, Math.PI * 2);\n    this.ctx.fillStyle = gradient;\n    this.ctx.fill();\n\n    // Highlight\n    this.ctx.beginPath();\n    this.ctx.arc(x - radius * 0.3, y - radius * 0.3, radius * 0.2, 0, Math.PI * 2);\n    this.ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';\n    this.ctx.fill();\n\n    // Edge shine\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, radius - 2, 0, Math.PI * 2);\n    this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';\n    this.ctx.lineWidth = 2;\n    this.ctx.stroke();\n  }\n\n  drawBubbles() {\n    this.ctx.fillStyle = 'rgba(10, 20, 40, 1)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (const bubble of this.bubbles) {\n      this.drawBubble(bubble);\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = normalizeDeltaTime(currentTime, this.lastTime);\n    this.lastTime = currentTime;\n\n    // Clear with dark blue\n    this.ctx.fillStyle = 'rgba(10, 20, 40, 1)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Update and draw bubbles\n    for (let i = 0; i < this.bubbles.length; i++) {\n      const b = this.bubbles[i];\n\n      // Wobble side to side\n      b.wobbleOffset += b.wobbleSpeed * deltaTime * this.speed;\n      b.x += (b.vx + Math.sin(b.wobbleOffset) * 0.3) * deltaTime * this.speed;\n      b.y += b.vy * deltaTime * this.speed;\n\n      // Reset bubble when it goes off top\n      if (b.y + b.radius < 0) {\n        this.bubbles[i] = this.createBubble(true);\n      }\n\n      // Wrap horizontally\n      if (b.x < -b.radius) b.x = this.canvas.width + b.radius;\n      if (b.x > this.canvas.width + b.radius) b.x = -b.radius;\n\n      this.drawBubble(b);\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { BubblesEffect };\nexport default BubblesEffect;\n","/**\n * @fileoverview Pipes effect - Classic 3D pipes screensaver.\n */\n\nimport { Effect } from '../effect.js';\nimport { normalizeDeltaTime } from '../utils/timing.js';\n\n/** Pipe colors */\nconst COLORS = [\n  '#ff0000', '#00ff00', '#0000ff', '#ffff00',\n  '#ff00ff', '#00ffff', '#ff8800', '#88ff00'\n];\n\n/** Directions: 0=right, 1=down, 2=left, 3=up, 4=forward, 5=back */\nconst DIRECTIONS = [\n  { dx: 1, dy: 0 },\n  { dx: 0, dy: 1 },\n  { dx: -1, dy: 0 },\n  { dx: 0, dy: -1 }\n];\n\n/**\n * Classic 3D pipes effect.\n * Canvas-based recreation of the Windows screensaver.\n */\nclass PipesEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.pipes = [];\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n    this.gridSize = 30;\n    this.pipeWidth = 12;\n    this.resetTimer = 0;\n  }\n\n  start() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'pipes-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'pipes-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    const style = document.createElement('style');\n    style.textContent = `\n      .pipes-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .pipes-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 20px rgba(100, 255, 100, 0.8), 0 0 40px rgba(50, 200, 50, 0.5);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    this.initPipes();\n\n    if (this.reducedMotion) {\n      // Draw some static pipes\n      for (let i = 0; i < 200; i++) {\n        this.updatePipes(1);\n      }\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n    this.ctx.fillStyle = '#000';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  initPipes() {\n    this.pipes = [];\n    this.ctx.fillStyle = '#000';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.addPipe();\n  }\n\n  addPipe() {\n    const gridCols = Math.floor(this.canvas.width / this.gridSize);\n    const gridRows = Math.floor(this.canvas.height / this.gridSize);\n\n    this.pipes.push({\n      x: Math.floor(Math.random() * gridCols) * this.gridSize + this.gridSize / 2,\n      y: Math.floor(Math.random() * gridRows) * this.gridSize + this.gridSize / 2,\n      dir: Math.floor(Math.random() * 4),\n      color: COLORS[Math.floor(Math.random() * COLORS.length)],\n      segments: 0,\n      maxSegments: 50 + Math.floor(Math.random() * 100)\n    });\n  }\n\n  drawJoint(x, y, color) {\n    // Draw a spherical joint\n    const gradient = this.ctx.createRadialGradient(\n      x - 3, y - 3, 0,\n      x, y, this.pipeWidth\n    );\n    gradient.addColorStop(0, '#ffffff');\n    gradient.addColorStop(0.3, color);\n    gradient.addColorStop(1, this.darkenColor(color, 0.5));\n\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, this.pipeWidth, 0, Math.PI * 2);\n    this.ctx.fillStyle = gradient;\n    this.ctx.fill();\n  }\n\n  drawPipeSegment(x1, y1, x2, y2, color) {\n    const dx = x2 - x1;\n    const dy = y2 - y1;\n    const isHorizontal = dx !== 0;\n\n    // Create gradient for 3D effect\n    const gradient = isHorizontal\n      ? this.ctx.createLinearGradient(x1, y1 - this.pipeWidth, x1, y1 + this.pipeWidth)\n      : this.ctx.createLinearGradient(x1 - this.pipeWidth, y1, x1 + this.pipeWidth, y1);\n\n    gradient.addColorStop(0, '#ffffff');\n    gradient.addColorStop(0.3, color);\n    gradient.addColorStop(0.7, color);\n    gradient.addColorStop(1, this.darkenColor(color, 0.4));\n\n    this.ctx.beginPath();\n    if (isHorizontal) {\n      this.ctx.rect(\n        Math.min(x1, x2) - 2,\n        y1 - this.pipeWidth / 2,\n        Math.abs(dx) + 4,\n        this.pipeWidth\n      );\n    } else {\n      this.ctx.rect(\n        x1 - this.pipeWidth / 2,\n        Math.min(y1, y2) - 2,\n        this.pipeWidth,\n        Math.abs(dy) + 4\n      );\n    }\n    this.ctx.fillStyle = gradient;\n    this.ctx.fill();\n  }\n\n  darkenColor(color, factor) {\n    const hex = color.replace('#', '');\n    const r = Math.floor(parseInt(hex.substr(0, 2), 16) * factor);\n    const g = Math.floor(parseInt(hex.substr(2, 2), 16) * factor);\n    const b = Math.floor(parseInt(hex.substr(4, 2), 16) * factor);\n    return `rgb(${r}, ${g}, ${b})`;\n  }\n\n  updatePipes(deltaTime) {\n    for (let i = this.pipes.length - 1; i >= 0; i--) {\n      const pipe = this.pipes[i];\n      const dir = DIRECTIONS[pipe.dir];\n      const newX = pipe.x + dir.dx * this.gridSize;\n      const newY = pipe.y + dir.dy * this.gridSize;\n\n      // Draw segment\n      this.drawPipeSegment(pipe.x, pipe.y, newX, newY, pipe.color);\n      this.drawJoint(newX, newY, pipe.color);\n\n      pipe.x = newX;\n      pipe.y = newY;\n      pipe.segments++;\n\n      // Check if pipe should turn or end\n      if (pipe.segments >= pipe.maxSegments ||\n          newX < 0 || newX > this.canvas.width ||\n          newY < 0 || newY > this.canvas.height) {\n        this.pipes.splice(i, 1);\n        this.addPipe();\n        continue;\n      }\n\n      // Random turn\n      if (Math.random() < 0.3) {\n        // Turn 90 degrees\n        const turn = Math.random() < 0.5 ? 1 : -1;\n        pipe.dir = (pipe.dir + turn + 4) % 4;\n      }\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = normalizeDeltaTime(currentTime, this.lastTime);\n    this.lastTime = currentTime;\n\n    // Add more pipes occasionally\n    if (this.pipes.length < 3 && Math.random() < 0.02) {\n      this.addPipe();\n    }\n\n    this.updatePipes(deltaTime);\n\n    // Periodically reset the canvas\n    this.resetTimer += deltaTime * this.speed;\n    if (this.resetTimer > 500) {\n      this.initPipes();\n      this.resetTimer = 0;\n    }\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { PipesEffect };\nexport default PipesEffect;\n","/**\n * @fileoverview Mystify effect - Bouncing polygon trails.\n */\n\nimport { Effect } from '../effect.js';\nimport { normalizeDeltaTime } from '../utils/timing.js';\n\n/** Colors for polygons */\nconst COLORS = ['#ff0088', '#00ff88', '#8800ff', '#ff8800'];\n\n/** Number of vertices per polygon */\nconst VERTEX_COUNT = 4;\n\n/** Trail length (number of previous positions to draw) */\nconst TRAIL_LENGTH = 20;\n\n/**\n * Mystify effect - Windows classic bouncing connected lines.\n * Canvas-based with colorful polygon trails.\n */\nclass MystifyEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.polygons = [];\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n  }\n\n  start() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'mystify-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'mystify-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    const style = document.createElement('style');\n    style.textContent = `\n      .mystify-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .mystify-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 0 20px rgba(255, 100, 255, 0.8), 0 0 40px rgba(100, 255, 100, 0.5);\n        z-index: 1;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    this.initPolygons();\n\n    if (this.reducedMotion) {\n      this.drawFrame();\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n  }\n\n  initPolygons() {\n    this.polygons = [];\n\n    // Create 2 polygons with different colors\n    for (let p = 0; p < 2; p++) {\n      const vertices = [];\n\n      for (let i = 0; i < VERTEX_COUNT; i++) {\n        vertices.push({\n          x: Math.random() * this.canvas.width,\n          y: Math.random() * this.canvas.height,\n          vx: (Math.random() - 0.5) * 4,\n          vy: (Math.random() - 0.5) * 4,\n          history: []\n        });\n      }\n\n      this.polygons.push({\n        vertices,\n        color: COLORS[p % COLORS.length]\n      });\n    }\n  }\n\n  drawPolygon(vertices, color, alpha = 1) {\n    if (vertices.length < 2) return;\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(vertices[0].x, vertices[0].y);\n\n    for (let i = 1; i < vertices.length; i++) {\n      this.ctx.lineTo(vertices[i].x, vertices[i].y);\n    }\n\n    // Close the polygon\n    this.ctx.lineTo(vertices[0].x, vertices[0].y);\n\n    this.ctx.strokeStyle = color;\n    this.ctx.globalAlpha = alpha;\n    this.ctx.lineWidth = 2;\n    this.ctx.stroke();\n    this.ctx.globalAlpha = 1;\n  }\n\n  drawFrame() {\n    // Clear with black\n    this.ctx.fillStyle = '#000000';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (const polygon of this.polygons) {\n      // Draw trail\n      const trailLength = polygon.vertices[0].history.length;\n      for (let t = 0; t < trailLength; t++) {\n        const trailVertices = polygon.vertices.map(v => v.history[t] || { x: v.x, y: v.y });\n        const alpha = (t + 1) / (trailLength + 1) * 0.5;\n        this.drawPolygon(trailVertices, polygon.color, alpha);\n      }\n\n      // Draw current polygon\n      this.drawPolygon(polygon.vertices, polygon.color, 1);\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = normalizeDeltaTime(currentTime, this.lastTime);\n    this.lastTime = currentTime;\n\n    // Update vertices\n    for (const polygon of this.polygons) {\n      for (const vertex of polygon.vertices) {\n        // Store history\n        vertex.history.push({ x: vertex.x, y: vertex.y });\n        if (vertex.history.length > TRAIL_LENGTH) {\n          vertex.history.shift();\n        }\n\n        // Update position\n        vertex.x += vertex.vx * deltaTime * this.speed;\n        vertex.y += vertex.vy * deltaTime * this.speed;\n\n        // Bounce off edges\n        if (vertex.x <= 0 || vertex.x >= this.canvas.width) {\n          vertex.vx *= -1;\n          vertex.x = Math.max(0, Math.min(this.canvas.width, vertex.x));\n        }\n        if (vertex.y <= 0 || vertex.y >= this.canvas.height) {\n          vertex.vy *= -1;\n          vertex.y = Math.max(0, Math.min(this.canvas.height, vertex.y));\n        }\n      }\n    }\n\n    this.drawFrame();\n\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { MystifyEffect };\nexport default MystifyEffect;\n","/**\n * @fileoverview Tunnel effect - 3D wireframe tunnel using Three.js\n *\n * This effect demonstrates loading an external dependency (Three.js)\n * dynamically at runtime to keep the core bundle small.\n */\n\nimport { Effect } from '../effect.js';\n\n/** Three.js CDN URL */\nconst THREE_CDN = 'https://unpkg.com/three@0.160.0/build/three.module.js';\n\n/**\n * 3D tunnel effect using Three.js.\n * Dynamically loads Three.js from CDN on first use.\n */\nclass TunnelEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.textOverlay = null;\n    this.THREE = null;\n    this.scene = null;\n    this.camera = null;\n    this.renderer = null;\n    this.tunnel = null;\n    this.lastTime = 0;\n    this._boundResize = this.resize.bind(this);\n  }\n\n  async start() {\n    // Create canvas\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'tunnel-canvas';\n    this.container.appendChild(this.canvas);\n\n    // Create text overlay (only if text is provided)\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'tunnel-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .tunnel-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      .tunnel-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #00ffff);\n        text-shadow: 0 0 20px #00ffff, 0 0 40px #0088ff, 0 0 60px #0044ff;\n        z-index: 1;\n        user-select: none;\n      }\n      .tunnel-loading {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        color: #00ffff;\n        font-family: monospace;\n        font-size: 1rem;\n      }\n    `;\n    this.container.appendChild(style);\n\n    // Show loading indicator\n    const loading = document.createElement('div');\n    loading.className = 'tunnel-loading';\n    loading.textContent = 'Loading 3D engine...';\n    this.container.appendChild(loading);\n\n    try {\n      // Dynamically import Three.js\n      this.THREE = await import(/* webpackIgnore: true */ THREE_CDN);\n      loading.remove();\n\n      if (this.reducedMotion) {\n        this.setupStaticScene();\n        return;\n      }\n\n      this.setupScene();\n      window.addEventListener('resize', this._boundResize);\n      this.lastTime = performance.now();\n      this.animate();\n    } catch (error) {\n      loading.textContent = 'Failed to load 3D engine';\n      console.error('Three.js load error:', error);\n    }\n  }\n\n  setupScene() {\n    const THREE = this.THREE;\n    const rect = this.container.getBoundingClientRect();\n\n    // Scene\n    this.scene = new THREE.Scene();\n    this.scene.fog = new THREE.Fog(0x000000, 1, 50);\n\n    // Camera\n    this.camera = new THREE.PerspectiveCamera(75, rect.width / rect.height, 0.1, 100);\n    this.camera.position.z = 5;\n\n    // Renderer\n    this.renderer = new THREE.WebGLRenderer({\n      canvas: this.canvas,\n      antialias: true,\n      alpha: true\n    });\n    this.renderer.setSize(rect.width, rect.height);\n    this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n\n    // Create tunnel geometry\n    this.createTunnel();\n  }\n\n  createTunnel() {\n    const THREE = this.THREE;\n\n    // Create multiple ring segments for the tunnel\n    this.tunnelSegments = [];\n    const segmentCount = 30;\n    const segmentDepth = 2;\n\n    for (let i = 0; i < segmentCount; i++) {\n      const geometry = new THREE.TorusGeometry(3, 0.05, 8, 32);\n      const material = new THREE.MeshBasicMaterial({\n        color: new THREE.Color().setHSL(i / segmentCount, 1, 0.5),\n        transparent: true,\n        opacity: 0.8\n      });\n      const ring = new THREE.Mesh(geometry, material);\n      ring.position.z = -i * segmentDepth;\n      ring.rotation.x = Math.PI / 2;\n      this.scene.add(ring);\n      this.tunnelSegments.push(ring);\n    }\n\n    // Add some particles inside the tunnel\n    const particleCount = 500;\n    const particleGeometry = new THREE.BufferGeometry();\n    const positions = new Float32Array(particleCount * 3);\n\n    for (let i = 0; i < particleCount; i++) {\n      const angle = Math.random() * Math.PI * 2;\n      const radius = Math.random() * 2.5;\n      positions[i * 3] = Math.cos(angle) * radius;\n      positions[i * 3 + 1] = Math.sin(angle) * radius;\n      positions[i * 3 + 2] = Math.random() * -60;\n    }\n\n    particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    const particleMaterial = new THREE.PointsMaterial({\n      color: 0x00ffff,\n      size: 0.05,\n      transparent: true,\n      opacity: 0.6\n    });\n    this.particles = new THREE.Points(particleGeometry, particleMaterial);\n    this.scene.add(this.particles);\n  }\n\n  setupStaticScene() {\n    const THREE = this.THREE;\n    const rect = this.container.getBoundingClientRect();\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(75, rect.width / rect.height, 0.1, 100);\n    this.camera.position.z = 5;\n\n    this.renderer = new THREE.WebGLRenderer({\n      canvas: this.canvas,\n      antialias: true,\n      alpha: true\n    });\n    this.renderer.setSize(rect.width, rect.height);\n\n    this.createTunnel();\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  resize() {\n    if (!this.renderer || !this.camera) return;\n    const rect = this.container.getBoundingClientRect();\n    this.camera.aspect = rect.width / rect.height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(rect.width, rect.height);\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastTime) / 1000;\n    this.lastTime = currentTime;\n\n    // Move tunnel segments toward camera\n    const moveSpeed = 10 * this.speed * deltaTime;\n    const segmentDepth = 2;\n    const totalDepth = this.tunnelSegments.length * segmentDepth;\n\n    for (const ring of this.tunnelSegments) {\n      ring.position.z += moveSpeed;\n      ring.rotation.z += deltaTime * 0.5 * this.speed;\n\n      // Wrap around when segment passes camera\n      if (ring.position.z > 5) {\n        ring.position.z -= totalDepth;\n      }\n    }\n\n    // Move particles\n    const positions = this.particles.geometry.attributes.position.array;\n    for (let i = 0; i < positions.length; i += 3) {\n      positions[i + 2] += moveSpeed;\n      if (positions[i + 2] > 5) {\n        positions[i + 2] -= 60;\n      }\n    }\n    this.particles.geometry.attributes.position.needsUpdate = true;\n    this.particles.rotation.z += deltaTime * 0.2 * this.speed;\n\n    this.renderer.render(this.scene, this.camera);\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n\n    // Clean up Three.js resources\n    if (this.renderer) {\n      this.renderer.dispose();\n    }\n    if (this.scene) {\n      this.scene.traverse((object) => {\n        if (object.geometry) object.geometry.dispose();\n        if (object.material) {\n          if (Array.isArray(object.material)) {\n            object.material.forEach(m => m.dispose());\n          } else {\n            object.material.dispose();\n          }\n        }\n      });\n    }\n\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { TunnelEffect };\nexport default TunnelEffect;\n","/**\n * @fileoverview Slideshow effect - Crossfade image slideshow\n *\n * This effect demonstrates:\n * - Configurable images via data attributes\n * - Image preloading and error handling\n * - Ken Burns zoom/pan animation\n * - Smooth crossfade transitions\n *\n * Usage:\n * <screen-saver effect=\"slideshow\"\n *   data-images=\"url1.jpg,url2.jpg,url3.jpg\"\n *   data-duration=\"5000\"\n *   data-transition=\"1000\">\n * </screen-saver>\n */\n\nimport { Effect } from '../effect.js';\n\n/** Default placeholder images (abstract gradients using properly encoded SVG data URIs) */\nconst DEFAULT_IMAGES = [\n  // Purple gradient\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23667eea'/%3E%3Cstop offset='100%25' stop-color='%23764ba2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g)' width='800' height='600'/%3E%3C/svg%3E\",\n  // Pink gradient\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23f093fb'/%3E%3Cstop offset='100%25' stop-color='%23f5576c'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g)' width='800' height='600'/%3E%3C/svg%3E\",\n  // Blue gradient\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%234facfe'/%3E%3Cstop offset='100%25' stop-color='%2300f2fe'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g)' width='800' height='600'/%3E%3C/svg%3E\",\n  // Green gradient\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%2343e97b'/%3E%3Cstop offset='100%25' stop-color='%2338f9d7'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23g)' width='800' height='600'/%3E%3C/svg%3E\",\n];\n\n/**\n * Slideshow effect with Ken Burns animation and crossfade.\n * Images can be configured via data-images attribute.\n */\nclass SlideshowEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.images = [];\n    this.loadedImages = [];\n    this.currentIndex = 0;\n    this.currentSlide = null;\n    this.nextSlide = null;\n    this.textOverlay = null;\n    this.slideDuration = 5000;\n    this.transitionDuration = 1000;\n    this.slideTimer = null;\n    this.lastTime = 0;\n  }\n\n  start() {\n    // Parse configuration from container's parent (screen-saver element)\n    this.parseConfig();\n\n    // Create wrapper\n    this.wrapper = document.createElement('div');\n    this.wrapper.className = 'slideshow-wrapper';\n    this.container.appendChild(this.wrapper);\n\n    // Create slide containers\n    this.currentSlide = document.createElement('div');\n    this.currentSlide.className = 'slideshow-slide';\n    this.wrapper.appendChild(this.currentSlide);\n\n    this.nextSlide = document.createElement('div');\n    this.nextSlide.className = 'slideshow-slide slideshow-next';\n    this.wrapper.appendChild(this.nextSlide);\n\n    // Create text overlay (only if text is provided)\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'slideshow-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .slideshow-wrapper {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background: #000;\n      }\n      .slideshow-slide {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n        opacity: 1;\n        transition: opacity ${this.transitionDuration}ms ease-in-out;\n      }\n      .slideshow-next {\n        opacity: 0;\n      }\n      .slideshow-slide.ken-burns {\n        animation: kenBurns ${this.slideDuration + this.transitionDuration}ms ease-in-out;\n      }\n      @keyframes kenBurns {\n        0% { transform: scale(1) translate(0, 0); }\n        100% { transform: scale(1.1) translate(-2%, -2%); }\n      }\n      .slideshow-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Arial Black', sans-serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 2px 10px rgba(0,0,0,0.8), 0 4px 20px rgba(0,0,0,0.6);\n        z-index: 2;\n        user-select: none;\n      }\n      .slideshow-loading {\n        position: absolute;\n        bottom: 20px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: rgba(255,255,255,0.5);\n        font-family: monospace;\n        font-size: 0.8rem;\n      }\n    `;\n    this.container.appendChild(style);\n\n    // Preload images\n    this.preloadImages().then(() => {\n      if (this.loadedImages.length === 0) {\n        console.warn('Slideshow: No images loaded, using defaults');\n        this.loadedImages = DEFAULT_IMAGES;\n      }\n\n      // Start slideshow\n      this.showSlide(0);\n\n      if (!this.reducedMotion) {\n        this.startSlideTimer();\n      }\n    });\n  }\n\n  parseConfig() {\n    // Find the screen-saver parent element\n    const screenSaver = this.container.closest('screen-saver') ||\n                        this.container.getRootNode()?.host;\n\n    if (screenSaver) {\n      // Parse images from data-images attribute\n      const imagesAttr = screenSaver.getAttribute('data-images');\n      if (imagesAttr) {\n        this.images = imagesAttr.split(',').map(url => url.trim()).filter(Boolean);\n      }\n\n      // Parse timing options\n      const duration = screenSaver.getAttribute('data-duration');\n      if (duration) this.slideDuration = parseInt(duration, 10);\n\n      const transition = screenSaver.getAttribute('data-transition');\n      if (transition) this.transitionDuration = parseInt(transition, 10);\n    }\n\n    // Use defaults if no images specified\n    if (this.images.length === 0) {\n      this.images = DEFAULT_IMAGES;\n    }\n  }\n\n  async preloadImages() {\n    const loadingIndicator = document.createElement('div');\n    loadingIndicator.className = 'slideshow-loading';\n    loadingIndicator.textContent = 'Loading images...';\n    this.container.appendChild(loadingIndicator);\n\n    const loadPromises = this.images.map((src, index) => {\n      return new Promise((resolve) => {\n        const img = new Image();\n        img.onload = () => {\n          this.loadedImages[index] = src;\n          resolve(src);\n        };\n        img.onerror = () => {\n          console.warn(`Slideshow: Failed to load image: ${src}`);\n          resolve(null);\n        };\n        img.src = src;\n      });\n    });\n\n    await Promise.all(loadPromises);\n    this.loadedImages = this.loadedImages.filter(Boolean);\n    loadingIndicator.remove();\n  }\n\n  showSlide(index) {\n    if (this.loadedImages.length === 0) return;\n\n    this.currentIndex = index % this.loadedImages.length;\n    const imageUrl = this.loadedImages[this.currentIndex];\n\n    // Set current slide (quotes needed for data URIs with special characters)\n    this.currentSlide.style.backgroundImage = `url(\"${imageUrl}\")`;\n    this.currentSlide.style.opacity = '1';\n    this.currentSlide.classList.remove('ken-burns');\n\n    // Trigger Ken Burns animation\n    if (!this.reducedMotion) {\n      // Force reflow\n      void this.currentSlide.offsetWidth;\n      this.currentSlide.classList.add('ken-burns');\n    }\n  }\n\n  nextSlideTransition() {\n    if (this.loadedImages.length <= 1) return;\n\n    const nextIndex = (this.currentIndex + 1) % this.loadedImages.length;\n    const nextImageUrl = this.loadedImages[nextIndex];\n\n    // Prepare next slide (quotes needed for data URIs with special characters)\n    this.nextSlide.style.backgroundImage = `url(\"${nextImageUrl}\")`;\n    this.nextSlide.classList.remove('ken-burns');\n\n    // Crossfade\n    this.nextSlide.style.opacity = '1';\n    this.currentSlide.style.opacity = '0';\n\n    // After transition, swap slides\n    setTimeout(() => {\n      // Swap references\n      const temp = this.currentSlide;\n      this.currentSlide = this.nextSlide;\n      this.nextSlide = temp;\n\n      this.nextSlide.style.opacity = '0';\n      this.currentIndex = nextIndex;\n\n      // Start Ken Burns on new current\n      if (!this.reducedMotion) {\n        void this.currentSlide.offsetWidth;\n        this.currentSlide.classList.add('ken-burns');\n      }\n    }, this.transitionDuration);\n  }\n\n  startSlideTimer() {\n    this.slideTimer = setInterval(() => {\n      this.nextSlideTransition();\n    }, this.slideDuration);\n  }\n\n  destroy() {\n    if (this.slideTimer) {\n      clearInterval(this.slideTimer);\n    }\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { SlideshowEffect };\nexport default SlideshowEffect;\n","/**\n * @fileoverview Snow effect - Peaceful falling snow scene\n *\n * This effect demonstrates:\n * - Scene composition with layers\n * - Configurable background image\n * - Parallax depth with multiple snow layers\n * - Wind simulation\n *\n * Usage:\n * <screen-saver effect=\"snow\"\n *   data-background=\"winter-scene.jpg\"\n *   data-snowflakes=\"200\"\n *   data-wind=\"0.5\">\n * </screen-saver>\n */\n\nimport { Effect } from '../effect.js';\n\n/** Default winter gradient background */\nconst DEFAULT_BACKGROUND = 'linear-gradient(to bottom, #1a1a2e 0%, #16213e 50%, #0f3460 100%)';\n\n/**\n * Snow scene effect with parallax layers and optional background.\n */\nclass SnowEffect extends Effect {\n  static requiresText = false;\n\n  constructor(container, text, speed) {\n    super(container, text, speed);\n    this.canvas = null;\n    this.ctx = null;\n    this.snowflakes = [];\n    this.snowflakeCount = 200;\n    this.wind = 0;\n    this.windTarget = 0;\n    this.backgroundUrl = null;\n    this.lastTime = 0;\n    this.textOverlay = null;\n    this._boundResize = this.resize.bind(this);\n  }\n\n  start() {\n    this.parseConfig();\n\n    // Create background layer\n    this.backgroundLayer = document.createElement('div');\n    this.backgroundLayer.className = 'snow-background';\n    this.container.appendChild(this.backgroundLayer);\n\n    // Create canvas for snow\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'snow-canvas';\n    this.container.appendChild(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    // Create ground layer (optional snow accumulation)\n    this.groundLayer = document.createElement('div');\n    this.groundLayer.className = 'snow-ground';\n    this.container.appendChild(this.groundLayer);\n\n    // Create text overlay (only if text is provided)\n    if (this.text) {\n      this.textOverlay = document.createElement('div');\n      this.textOverlay.className = 'snow-text';\n      this.textOverlay.textContent = this.text;\n      this.container.appendChild(this.textOverlay);\n    }\n\n    // Add styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .snow-background {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: ${this.backgroundUrl ? `url(${this.backgroundUrl})` : DEFAULT_BACKGROUND};\n        background-size: cover;\n        background-position: center;\n      }\n      .snow-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n      }\n      .snow-ground {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 40px;\n        background: linear-gradient(to top, rgba(255,255,255,0.3) 0%, transparent 100%);\n        pointer-events: none;\n      }\n      .snow-text {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        font-family: var(--screen-saver-font-family, 'Georgia', serif);\n        font-size: var(--screen-saver-font-size, 4rem);\n        font-weight: bold;\n        color: var(--screen-saver-text-color, #ffffff);\n        text-shadow: 0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(200,220,255,0.5);\n        z-index: 2;\n        user-select: none;\n      }\n    `;\n    this.container.appendChild(style);\n\n    this.resize();\n    window.addEventListener('resize', this._boundResize);\n\n    this.initSnowflakes();\n\n    if (this.reducedMotion) {\n      this.drawSnowflakes();\n      return;\n    }\n\n    this.lastTime = performance.now();\n    this.animate();\n  }\n\n  parseConfig() {\n    const screenSaver = this.container.closest('screen-saver') ||\n                        this.container.getRootNode()?.host;\n\n    if (screenSaver) {\n      this.backgroundUrl = screenSaver.getAttribute('data-background');\n\n      const count = screenSaver.getAttribute('data-snowflakes');\n      if (count) this.snowflakeCount = parseInt(count, 10);\n\n      const wind = screenSaver.getAttribute('data-wind');\n      if (wind) this.windTarget = parseFloat(wind);\n    }\n  }\n\n  resize() {\n    const rect = this.container.getBoundingClientRect();\n    this.canvas.width = rect.width;\n    this.canvas.height = rect.height;\n  }\n\n  initSnowflakes() {\n    this.snowflakes = [];\n\n    for (let i = 0; i < this.snowflakeCount; i++) {\n      this.snowflakes.push(this.createSnowflake());\n    }\n  }\n\n  createSnowflake(atTop = false) {\n    const rect = this.canvas;\n    // Depth layer (0-2): affects size, speed, and opacity\n    const depth = Math.random() * 3;\n\n    return {\n      x: Math.random() * rect.width,\n      y: atTop ? -10 : Math.random() * rect.height,\n      radius: 1 + depth * 1.5,\n      depth: depth,\n      speed: 0.5 + depth * 0.5,\n      wobble: Math.random() * Math.PI * 2,\n      wobbleSpeed: 0.02 + Math.random() * 0.02,\n      opacity: 0.3 + depth * 0.25\n    };\n  }\n\n  drawSnowflakes() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (const flake of this.snowflakes) {\n      this.ctx.beginPath();\n      this.ctx.arc(flake.x, flake.y, flake.radius, 0, Math.PI * 2);\n      this.ctx.fillStyle = `rgba(255, 255, 255, ${flake.opacity})`;\n      this.ctx.fill();\n\n      // Add slight glow to larger flakes\n      if (flake.radius > 2) {\n        this.ctx.beginPath();\n        this.ctx.arc(flake.x, flake.y, flake.radius * 2, 0, Math.PI * 2);\n        this.ctx.fillStyle = `rgba(200, 220, 255, ${flake.opacity * 0.2})`;\n        this.ctx.fill();\n      }\n    }\n  }\n\n  animate() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastTime) / 16.67;\n    this.lastTime = currentTime;\n\n    // Smoothly adjust wind\n    this.wind += (this.windTarget - this.wind) * 0.01;\n\n    // Randomly change wind target occasionally\n    if (Math.random() < 0.002) {\n      this.windTarget = (Math.random() - 0.5) * 2;\n    }\n\n    // Update snowflakes\n    for (let i = 0; i < this.snowflakes.length; i++) {\n      const flake = this.snowflakes[i];\n\n      // Wobble side to side\n      flake.wobble += flake.wobbleSpeed * deltaTime * this.speed;\n      const wobbleX = Math.sin(flake.wobble) * (1 + flake.depth * 0.5);\n\n      // Apply movement - deeper flakes (closer) move faster\n      flake.x += (wobbleX + this.wind * (1 + flake.depth * 0.5)) * deltaTime * this.speed;\n      flake.y += flake.speed * deltaTime * this.speed;\n\n      // Wrap around edges\n      if (flake.y > this.canvas.height + 10) {\n        this.snowflakes[i] = this.createSnowflake(true);\n      }\n      if (flake.x < -10) {\n        flake.x = this.canvas.width + 10;\n      } else if (flake.x > this.canvas.width + 10) {\n        flake.x = -10;\n      }\n    }\n\n    this.drawSnowflakes();\n    this.animationId = requestAnimationFrame(() => this.animate());\n  }\n\n  destroy() {\n    window.removeEventListener('resize', this._boundResize);\n    super.destroy();\n  }\n\n  updateText(text) {\n    super.updateText(text);\n    if (this.textOverlay) {\n      this.textOverlay.textContent = text;\n    }\n  }\n}\n\nexport { SnowEffect };\nexport default SnowEffect;\n","/**\n * @fileoverview Export all built-in effects.\n */\n\n// Basic effects\nimport { Bounce3DEffect } from './bounce3d.js';\nimport { MatrixEffect } from './matrix.js';\nimport { AsciiGlitchEffect } from './ascii-glitch.js';\nimport { StarfieldEffect } from './starfield.js';\nimport { PlasmaEffect } from './plasma.js';\nimport { FireworksEffect } from './fireworks.js';\nimport { BubblesEffect } from './bubbles.js';\nimport { PipesEffect } from './pipes.js';\nimport { MystifyEffect } from './mystify.js';\n\n// Advanced effects\nimport { TunnelEffect } from './tunnel.js';\nimport { SlideshowEffect } from './slideshow.js';\nimport { SnowEffect } from './snow.js';\n\n/** Default effect mapping */\nconst defaultEffects = {\n  // Basic effects\n  'bounce3d': Bounce3DEffect,\n  'matrix': MatrixEffect,\n  'ascii-glitch': AsciiGlitchEffect,\n  'starfield': StarfieldEffect,\n  'plasma': PlasmaEffect,\n  'fireworks': FireworksEffect,\n  'bubbles': BubblesEffect,\n  'pipes': PipesEffect,\n  'mystify': MystifyEffect,\n  // Advanced effects\n  'tunnel': TunnelEffect,\n  'slideshow': SlideshowEffect,\n  'snow': SnowEffect,\n};\n\nexport {\n  // Basic effects\n  Bounce3DEffect,\n  MatrixEffect,\n  AsciiGlitchEffect,\n  StarfieldEffect,\n  PlasmaEffect,\n  FireworksEffect,\n  BubblesEffect,\n  PipesEffect,\n  MystifyEffect,\n  // Advanced effects\n  TunnelEffect,\n  SlideshowEffect,\n  SnowEffect,\n  // Registry\n  defaultEffects,\n};\n","/**\n * @fileoverview Effect registry for managing available screen saver effects.\n */\n\nimport { defaultEffects, Bounce3DEffect } from './effects/index.js';\n\n/** Registry of available effects */\nconst effectRegistry = new Map(Object.entries(defaultEffects));\n\n/**\n * Register a custom effect.\n * @param {string} name - Effect name\n * @param {typeof import('./effect.js').Effect} effectClass - Effect class extending Effect\n */\nexport function registerEffect(name, effectClass) {\n  effectRegistry.set(name, effectClass);\n}\n\n/**\n * Get an effect class by name.\n * @param {string} name - Effect name\n * @returns {typeof import('./effect.js').Effect} Effect class, defaults to Bounce3DEffect\n */\nexport function getEffect(name) {\n  return effectRegistry.get(name) || Bounce3DEffect;\n}\n\n/**\n * Check if an effect is registered.\n * @param {string} name - Effect name\n * @returns {boolean} True if effect exists\n */\nexport function hasEffect(name) {\n  return effectRegistry.has(name);\n}\n\n/**\n * Get all registered effect names.\n * @returns {string[]} Array of effect names\n */\nexport function getEffectNames() {\n  return Array.from(effectRegistry.keys());\n}\n\nexport { effectRegistry };\n","/**\n * @fileoverview Screen Saver Web Component\n * A vanilla JavaScript web component that displays retro screen saver effects after idle timeout.\n */\n\nimport { Effect } from './effect.js';\nimport { effectRegistry, registerEffect, getEffect } from './registry.js';\nimport { Bounce3DEffect, MatrixEffect, AsciiGlitchEffect, StarfieldEffect, PlasmaEffect, FireworksEffect, BubblesEffect, PipesEffect, MystifyEffect, TunnelEffect, SlideshowEffect, SnowEffect } from './effects/index.js';\n\n// ============================================================================\n// Screen Saver Component\n// ============================================================================\n\n/**\n * Screen Saver Web Component\n *\n * @element screen-saver\n * @slot - Text content to display in the screen saver\n *\n * @attr {number} timeout - Idle delay in seconds (default: 180)\n * @attr {string} effect - Effect name: bounce3d, matrix, ascii-glitch (default: bounce3d)\n * @attr {number} speed - Animation speed multiplier (default: 1)\n * @attr {string} background - Background color or image URL\n *\n * @fires screensaver-activate - When the screen saver activates\n * @fires screensaver-deactivate - When the screen saver dismisses, includes duration\n *\n * @example\n * <screen-saver timeout=\"180\" effect=\"bounce3d\">Whoa!</screen-saver>\n */\nclass ScreenSaver extends HTMLElement {\n  static get observedAttributes() {\n    return ['timeout', 'effect', 'speed', 'background'];\n  }\n\n  /**\n   * Register a custom effect.\n   * @param {string} name - Effect name\n   * @param {typeof Effect} effectClass - Effect class extending Effect\n   */\n  static registerEffect(name, effectClass) {\n    registerEffect(name, effectClass);\n  }\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n\n    this._isActive = false;\n    this._idleTimer = null;\n    this._activatedAt = null;\n    this._effect = null;\n    this._boundResetTimer = this._resetIdleTimer.bind(this);\n    this._boundDismiss = this._handleDismiss.bind(this);\n    this._boundSlotChange = this._handleSlotChange.bind(this);\n    this._slotElement = null;\n  }\n\n  connectedCallback() {\n    this._render();\n    this._startIdleDetection();\n  }\n\n  disconnectedCallback() {\n    this._stopIdleDetection();\n    this.deactivate();\n    if (this._slotElement) {\n      this._slotElement.removeEventListener('slotchange', this._boundSlotChange);\n      this._slotElement = null;\n    }\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue === newValue) return;\n\n    if (name === 'timeout') {\n      this._resetIdleTimer();\n    } else if (name === 'effect' && this._isActive) {\n      // Switch effect while active\n      this._destroyEffect();\n      this._createEffect();\n    } else if (name === 'speed' && this._isActive && this._effect) {\n      this._effect.speed = this.speed;\n    } else if (name === 'background' && this._isActive) {\n      this._updateBackground();\n    }\n  }\n\n  /** @returns {boolean} Whether the screen saver is currently active */\n  get isActive() {\n    return this._isActive;\n  }\n\n  /** @returns {number} Timeout in seconds */\n  get timeout() {\n    return parseInt(this.getAttribute('timeout'), 10) || 180;\n  }\n\n  set timeout(value) {\n    this.setAttribute('timeout', String(value));\n  }\n\n  /** @returns {string} Current effect name */\n  get effect() {\n    return this.getAttribute('effect') || 'bounce3d';\n  }\n\n  set effect(value) {\n    this.setAttribute('effect', value);\n  }\n\n  /** @returns {number} Animation speed multiplier */\n  get speed() {\n    return parseFloat(this.getAttribute('speed')) || 1;\n  }\n\n  set speed(value) {\n    this.setAttribute('speed', String(value));\n  }\n\n  /** @returns {string|null} Background setting */\n  get background() {\n    return this.getAttribute('background');\n  }\n\n  set background(value) {\n    if (value) {\n      this.setAttribute('background', value);\n    } else {\n      this.removeAttribute('background');\n    }\n  }\n\n  /** Programmatically activate the screen saver */\n  activate() {\n    if (this._isActive) return;\n\n    this._isActive = true;\n    this._activatedAt = Date.now();\n    this._stopIdleDetection();\n\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    overlay.classList.add('active');\n    overlay.setAttribute('aria-hidden', 'false');\n\n    this._updateBackground();\n    this._createEffect();\n    this._attachDismissListeners();\n\n    this.dispatchEvent(new CustomEvent('screensaver-activate', {\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  /** Programmatically deactivate the screen saver */\n  deactivate() {\n    if (!this._isActive) return;\n\n    const duration = this._activatedAt ? Date.now() - this._activatedAt : 0;\n\n    this._isActive = false;\n    this._activatedAt = null;\n\n    this._destroyEffect();\n    this._detachDismissListeners();\n\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    overlay.classList.remove('active');\n    overlay.setAttribute('aria-hidden', 'true');\n\n    if (this.isConnected) {\n      this._startIdleDetection();\n    }\n\n    this.dispatchEvent(new CustomEvent('screensaver-deactivate', {\n      bubbles: true,\n      composed: true,\n      detail: { duration }\n    }));\n  }\n\n  _render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: contents;\n        }\n\n        .overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: var(--screen-saver-bg, rgba(0, 0, 0, 0.95));\n          z-index: var(--screen-saver-z-index, 999999);\n          display: none;\n          overflow: hidden;\n        }\n\n        .overlay.active {\n          display: block;\n        }\n\n        .effect-container {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n\n        .slot-container {\n          display: none;\n        }\n      </style>\n      <div class=\"slot-container\"><slot></slot></div>\n      <div class=\"overlay\" role=\"dialog\" aria-label=\"Screen saver\" aria-hidden=\"true\">\n        <div class=\"effect-container\"></div>\n      </div>\n    `;\n    this._slotElement = this.shadowRoot.querySelector('slot');\n    this._slotElement.addEventListener('slotchange', this._boundSlotChange);\n  }\n\n  _getSlotText() {\n    const slot = this.shadowRoot.querySelector('slot');\n    const nodes = slot.assignedNodes({ flatten: true });\n    return nodes.map(node => node.textContent).join('').trim();\n  }\n\n  /**\n   * Get the text to display based on effect requirements.\n   * @param {typeof Effect} EffectClass - The effect class\n   * @returns {string|null} Text to display, or null if not needed\n   */\n  _getTextForEffect(EffectClass) {\n    const slotText = this._getSlotText();\n\n    // If slot has text, always use it\n    if (slotText) {\n      return slotText;\n    }\n\n    // Check if effect requires text\n    if (EffectClass.requiresText) {\n      // Default to the site's domain name\n      return window.location.hostname || 'Screen Saver';\n    }\n\n    // Effect doesn't require text\n    return null;\n  }\n\n  _createEffect() {\n    const container = this.shadowRoot.querySelector('.effect-container');\n    const EffectClass = getEffect(this.effect);\n    const text = this._getTextForEffect(EffectClass);\n\n    this._effect = new EffectClass(container, text, this.speed);\n    this._effect.start();\n  }\n\n  _destroyEffect() {\n    if (this._effect) {\n      this._effect.destroy();\n      this._effect = null;\n    }\n  }\n\n  _updateBackground() {\n    const overlay = this.shadowRoot.querySelector('.overlay');\n    const bg = this.background;\n\n    if (bg) {\n      if (bg.startsWith('http') || bg.startsWith('/') || bg.startsWith('data:')) {\n        overlay.style.backgroundImage = `url(${bg})`;\n        overlay.style.backgroundSize = 'cover';\n        overlay.style.backgroundPosition = 'center';\n      } else {\n        overlay.style.background = bg;\n      }\n    } else {\n      overlay.style.backgroundImage = '';\n      overlay.style.backgroundSize = '';\n      overlay.style.backgroundPosition = '';\n      overlay.style.background = '';\n    }\n  }\n\n  _startIdleDetection() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart', 'scroll', 'wheel'];\n    events.forEach(event => {\n      document.addEventListener(event, this._boundResetTimer, { passive: true });\n    });\n    this._resetIdleTimer();\n  }\n\n  _stopIdleDetection() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart', 'scroll', 'wheel'];\n    events.forEach(event => {\n      document.removeEventListener(event, this._boundResetTimer);\n    });\n    clearTimeout(this._idleTimer);\n  }\n\n  _resetIdleTimer() {\n    clearTimeout(this._idleTimer);\n    this._idleTimer = setTimeout(() => {\n      this.activate();\n    }, this.timeout * 1000);\n  }\n\n  _attachDismissListeners() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart'];\n    events.forEach(event => {\n      document.addEventListener(event, this._boundDismiss, { once: true, capture: true });\n    });\n  }\n\n  _detachDismissListeners() {\n    const events = ['mousemove', 'mousedown', 'keydown', 'touchstart'];\n    events.forEach(event => {\n      document.removeEventListener(event, this._boundDismiss, { capture: true });\n    });\n  }\n\n  _handleDismiss(event) {\n    // Grace period of 500ms after activation to prevent immediate dismissal\n    // from the same mouse movement that triggered activation\n    const timeSinceActivation = Date.now() - this._activatedAt;\n    if (timeSinceActivation < 500) {\n      // Re-attach listeners since we're ignoring this event\n      this._attachDismissListeners();\n      return;\n    }\n\n    if (this._isActive) {\n      this.deactivate();\n    }\n  }\n\n  _handleSlotChange() {\n    if (!this._isActive || !this._effect) return;\n    const EffectClass = getEffect(this.effect);\n    const text = this._getTextForEffect(EffectClass);\n    if (typeof this._effect.updateText === 'function') {\n      this._effect.updateText(text);\n    }\n  }\n}\n\n// Register the custom element\ncustomElements.define('screen-saver', ScreenSaver);\n\n// Export for ES modules\nexport { ScreenSaver, Effect, Bounce3DEffect, MatrixEffect, AsciiGlitchEffect, StarfieldEffect, PlasmaEffect, FireworksEffect, BubblesEffect, PipesEffect, MystifyEffect, TunnelEffect, SlideshowEffect, SnowEffect };\nexport default ScreenSaver;\n"],"names":["prefersReducedMotion","Effect","container","text","speed","__publicField","normalizeDeltaTime","currentTime","lastTime","shouldSkipFrame","deltaTime","targetFPS","targetFrameTime","COLORS","Bounce3DEffect","style","rect","width","height","color","extrudeColor","shadows","hex","r","g","b","textRect","containerWidth","containerHeight","textWidth","textHeight","bounced","MATRIX_CHARS","MatrixEffect","columnCount","i","char","x","y","GLITCH_CHARS","AsciiGlitchEffect","wrapper","layer","glitchedText","index","offsetX","offsetY","STAR_COUNT","StarfieldEffect","star","scale","size","brightness","starSpeed","prevScale","prevX","prevY","PlasmaEffect","data","t","v1","v2","v3","v4","v","idx","FireworksEffect","rocket","particleCount","angle","velocity","p","BUBBLE_COUNT","BubblesEffect","fromBottom","radius","bubble","gradient","DIRECTIONS","PipesEffect","gridCols","gridRows","x1","y1","x2","y2","dx","dy","isHorizontal","factor","pipe","dir","newX","newY","turn","VERTEX_COUNT","TRAIL_LENGTH","MystifyEffect","vertices","alpha","polygon","trailLength","trailVertices","vertex","THREE_CDN","TunnelEffect","loading","error","THREE","segmentCount","segmentDepth","geometry","material","ring","particleGeometry","positions","particleMaterial","moveSpeed","totalDepth","object","m","DEFAULT_IMAGES","SlideshowEffect","_a","screenSaver","imagesAttr","url","duration","transition","loadingIndicator","loadPromises","src","resolve","img","imageUrl","nextIndex","nextImageUrl","temp","DEFAULT_BACKGROUND","SnowEffect","count","wind","atTop","depth","flake","wobbleX","defaultEffects","effectRegistry","registerEffect","name","effectClass","getEffect","ScreenSaver","oldValue","newValue","value","overlay","node","EffectClass","slotText","bg","event"],"mappings":"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"}